{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 16px solid #f3f3f3;\\n  border-radius: 50%;\\n  border-top: 16px solid red;\\n  width: 90%;\\n  padding-top: 90%;\\n  -webkit-animation: spin 2s linear infinite; /* Safari */\\n  animation: \", \" 2s linear infinite;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  0% { -webkit-transform: rotate(0deg); }\\n  100% { -webkit-transform: rotate(360deg); }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  \\n \\n  font-size: 150%;\\n  text-align: center;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  display:flex;\\n  flex-direction: column;\\n  align-content: center;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  width:100%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n  align-items: center;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 20px;\\n  margin: auto;\\n  cursor: pointer;\\n  align-self: center;\\n  text-decoration: none;\\n  background-color: #8C98DE;\\n  color: white;\\n  border-radius: 1em;\\n\\n  border:none;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  \\n  height: 60%;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  background-color: #3D3B30;\\n  \\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 40%;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  color: white;\\n  background-color: #0D0B04;\\n  padding-bottom: 40px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid black;\\n  border-radius: 10px;\\n  align-content: right;\\n  width: 300px;\\n  height: 300px;\\n  text-align: center;\\n  \\n  align-items: center;\\n  diplay: flex;\\n  flex-direction: column;\\n  font-family: Arial, Helvetica, sans-serif;\\n  \\n  \\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Styled, { keyframes } from 'styled-components';\nimport React from 'react';\nvar MainDiv = Styled.div(_templateObject());\nvar UpperDiv = Styled.div(_templateObject2());\nvar BottomDiv = Styled.div(_templateObject3());\nvar Button = Styled.button(_templateObject4());\nvar Row = Styled.div(_templateObject5());\nvar Col = Styled.div(_templateObject6());\nvar TickerInput = Styled.input(_templateObject7());\nvar LoadAnimation = keyframes(_templateObject8());\nvar LoadDiv = Styled.div(_templateObject9(), LoadAnimation);\n\nvar StockCorrelation = /*#__PURE__*/function (_React$Component) {\n  _inherits(StockCorrelation, _React$Component);\n\n  function StockCorrelation(props) {\n    var _this;\n\n    _classCallCheck(this, StockCorrelation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StockCorrelation).call(this, props));\n    _this.props = props;\n    _this.state = {\n      correlation: null,\n      stock1: props.stock1,\n      stock2: props.stock2,\n      display1: props.stock1,\n      display2: props.stock2,\n      loadig: false\n    };\n    _this.getCorrelation = _this.getCorrelation.bind(_assertThisInitialized(_this));\n    _this.handleTicker1 = _this.handleTicker1.bind(_assertThisInitialized(_this));\n    _this.handleTicker2 = _this.handleTicker2.bind(_assertThisInitialized(_this));\n    _this.handleUpdate = _this.handleUpdate.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(StockCorrelation, [{\n    key: \"getCorrelation\",\n    value: function getCorrelation(ticker1, ticker2) {\n      var url, raw_data, result;\n      return _regeneratorRuntime.async(function getCorrelation$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.startLoad();\n              url = 'https://ak25ue8dgl.execute-api.us-east-2.amazonaws.com/default/correlation';\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(fetch(url, {\n                method: \"POST\",\n                headers: {\n                  \"content-type\": \"text/plain\"\n                },\n                body: _JSON$stringify({\n                  \"ticker1\": ticker1,\n                  \"ticker2\": ticker2\n                })\n              }));\n\n            case 4:\n              raw_data = _context.sent;\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(raw_data.text());\n\n            case 7:\n              result = _context.sent;\n              result = JSON.parse(result).output;\n              console.log(result);\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(this.setState({\n                \"correlation\": result\n              }));\n\n            case 12:\n              this.setState({\n                \"display1\": ticker1,\n                \"display2\": ticker2\n              });\n              console.log(\"here\");\n              this.endLoad();\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"startLoad\",\n    value: function startLoad() {\n      this.setState({\n        \"loading\": true\n      });\n    }\n  }, {\n    key: \"endLoad\",\n    value: function endLoad() {\n      this.setState({\n        \"loading\": false\n      });\n    }\n  }, {\n    key: \"handleTicker1\",\n    value: function handleTicker1(event) {\n      this.setState({\n        stock1: event.target.value\n      });\n    }\n  }, {\n    key: \"handleTicker2\",\n    value: function handleTicker2(event) {\n      this.setState({\n        stock2: event.target.value\n      });\n    }\n  }, {\n    key: \"handleUpdate\",\n    value: function handleUpdate() {\n      console.log(this.state.ticker1);\n      console.log(this.state.ticker2);\n      this.getCorrelation(this.state.stock1, this.state.stock2);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCorrelation(this.props.stock1, this.props.stock2);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(MainDiv, {\n        style: {\n          width: this.props.width,\n          height: this.props.height\n        }\n      }, __jsx(LoadDiv, {\n        style: {\n          display: this.state.loading ? \"block\" : \"none\"\n        }\n      }), __jsx(UpperDiv, {\n        style: {\n          display: this.state.loading ? \"none\" : \"flex\"\n        }\n      }, __jsx(\"h2\", null, \"Price Correlation\"), __jsx(Row, null, __jsx(Col, null, __jsx(TickerInput, {\n        size: \"4\",\n        maxlength: \"4\",\n        value: this.state.stock1,\n        onChange: this.handleTicker1\n      }), __jsx(\"label\", null, \"Ticker 1\")), __jsx(Col, null, __jsx(\"h1\", null, this.state.correlation, \"%\")), __jsx(Col, null, __jsx(TickerInput, {\n        size: \"4\",\n        maxlength: \"4\",\n        value: this.state.stock2,\n        onChange: this.handleTicker2\n      }), __jsx(\"label\", null, \"Ticker 2\")))), __jsx(BottomDiv, {\n        style: {\n          display: this.state.loading ? \"none\" : \"flex\"\n        }\n      }, __jsx(Button, {\n        onClick: this.handleUpdate\n      }, \"Update\")));\n    }\n  }]);\n\n  return StockCorrelation;\n}(React.Component);\n\nexport default StockCorrelation;","map":null,"metadata":{},"sourceType":"module"}