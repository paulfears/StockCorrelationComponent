{"ast":null,"code":"var __jsx = React.createElement;\nimport Styled, { keyframes } from 'styled-components';\nimport React from 'react';\nconst MainDiv = Styled.div`\n  border: 1px solid black;\n  border-radius: 10px;\n  align-content: right;\n  width: 300px;\n  height: 300px;\n  text-align: center;\n  \n  align-items: center;\n  diplay: flex;\n  flex-direction: column;\n  font-family: Arial, Helvetica, sans-serif;\n  \n  \n`;\nconst UpperDiv = Styled.div`\n  height: 40%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  background-color: #0D0B04;\n  padding-bottom: 40px;\n`;\nconst BottomDiv = Styled.div`\n  \n  height: 60%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: #3D3B30;\n  \n`;\nconst Button = Styled.button`\n  padding: 20px;\n  margin: auto;\n  cursor: pointer;\n  align-self: center;\n  text-decoration: none;\n  background-color: #8C98DE;\n  color: white;\n  border-radius: 1em;\n\n  border:none;\n`;\nconst Row = Styled.div`\n  width:100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n`;\nconst Col = Styled.div`\n  display:flex;\n  flex-direction: column;\n  align-content: center;\n`;\nconst TickerInput = Styled.input`\n  \n \n  font-size: 150%;\n  text-align: center;\n`;\nconst LoadAnimation = keyframes`\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n`;\nconst LoadDiv = Styled.div`\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid red;\n  width: 90%;\n  padding-top: 90%;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: ${LoadAnimation} 2s linear infinite;\n`;\n\nclass StockCorrelation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.state = {\n      correlation: null,\n      stock1: props.stock1,\n      stock2: props.stock2,\n      display1: props.stock1,\n      display2: props.stock2,\n      loadig: false\n    };\n    this.getCorrelation = this.getCorrelation.bind(this);\n    this.handleTicker1 = this.handleTicker1.bind(this);\n    this.handleTicker2 = this.handleTicker2.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n  }\n\n  async getCorrelation(ticker1, ticker2) {\n    this.startLoad();\n    const url = 'https://ak25ue8dgl.execute-api.us-east-2.amazonaws.com/default/correlation';\n    let raw_data = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"text/plain\"\n      },\n      body: JSON.stringify({\n        \"ticker1\": ticker1,\n        \"ticker2\": ticker2\n      })\n    });\n    let result = await raw_data.text();\n    result = JSON.parse(result).output;\n    console.log(result);\n    await this.setState({\n      \"correlation\": result\n    });\n    this.setState({\n      \"display1\": ticker1,\n      \"display2\": ticker2\n    });\n    console.log(\"here\");\n    this.endLoad();\n  }\n\n  startLoad() {\n    this.setState({\n      \"loading\": true\n    });\n  }\n\n  endLoad() {\n    this.setState({\n      \"loading\": false\n    });\n  }\n\n  handleTicker1(event) {\n    this.setState({\n      stock1: event.target.value\n    });\n  }\n\n  handleTicker2(event) {\n    this.setState({\n      stock2: event.target.value\n    });\n  }\n\n  handleUpdate() {\n    console.log(this.state.ticker1);\n    console.log(this.state.ticker2);\n    this.getCorrelation(this.state.stock1, this.state.stock2);\n  }\n\n  componentDidMount() {\n    this.getCorrelation(this.props.stock1, this.props.stock2);\n  }\n\n  render() {\n    return __jsx(MainDiv, {\n      style: {\n        width: this.props.width,\n        height: this.props.height\n      }\n    }, __jsx(LoadDiv, {\n      style: {\n        display: this.state.loading ? \"block\" : \"none\"\n      }\n    }), __jsx(UpperDiv, {\n      style: {\n        display: this.state.loading ? \"none\" : \"flex\"\n      }\n    }, __jsx(\"h2\", null, \"Price Correlation\"), __jsx(Row, null, __jsx(Col, null, __jsx(TickerInput, {\n      size: \"4\",\n      maxlength: \"4\",\n      value: this.state.stock1,\n      onChange: this.handleTicker1\n    }), __jsx(\"label\", null, \"Ticker 1\")), __jsx(Col, null, __jsx(\"h1\", null, this.state.correlation, \"%\")), __jsx(Col, null, __jsx(TickerInput, {\n      size: \"4\",\n      maxlength: \"4\",\n      value: this.state.stock2,\n      onChange: this.handleTicker2\n    }), __jsx(\"label\", null, \"Ticker 2\")))), __jsx(BottomDiv, {\n      style: {\n        display: this.state.loading ? \"none\" : \"flex\"\n      }\n    }, __jsx(Button, {\n      onClick: this.handleUpdate\n    }, \"Update\")));\n  }\n\n}\n\nexport default StockCorrelation;","map":null,"metadata":{},"sourceType":"module"}